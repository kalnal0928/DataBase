<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>데이터베이스 문제</title>
    <style>
        body {
            font-family: 'Malgun Gothic', Arial, sans-serif;
            margin: 0;
            padding: 0;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
        }
        
        .main-container {
            max-width: 1400px;
            margin: 0 auto;
            padding: 20px;
        }
        
        .main-title {
            text-align: center;
            color: white;
            font-size: 3.5em;
            margin-bottom: 30px;
            font-weight: bold;
            text-shadow: 3px 3px 6px rgba(0,0,0,0.3);
        }
        
        /* 탭 스타일 */
        .tab-container {
            display: flex;
            justify-content: center;
            margin-bottom: 30px;
            gap: 15px;
            flex-wrap: wrap;
        }
        
        .tab {
            background: rgba(255, 255, 255, 0.2);
            color: white;
            padding: 15px 25px;
            border: none;
            border-radius: 25px;
            cursor: pointer;
            font-size: 1.1em;
            font-weight: bold;
            transition: all 0.3s ease;
            backdrop-filter: blur(10px);
            border: 2px solid rgba(255, 255, 255, 0.3);
            min-width: 200px;
            text-align: center;
        }
        
        .tab:hover {
            background: rgba(255, 255, 255, 0.3);
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(0,0,0,0.2);
        }
        
        .tab.active {
            background: rgba(255, 255, 255, 0.9);
            color: #2c3e50;
            transform: translateY(-2px);
            box-shadow: 0 5px 20px rgba(0,0,0,0.3);
        }
        
        /* 콘텐츠 컨테이너 */
        .content-container {
            background: rgba(255, 255, 255, 0.95);
            border-radius: 20px;
            padding: 40px;
            box-shadow: 0 20px 40px rgba(0,0,0,0.15);
            backdrop-filter: blur(10px);
            min-height: 600px;
        }
        
        .tab-content {
            display: none;
        }
        
        .tab-content.active {
            display: block;
        }
        
        /* 공통 스타일들 */
        .title {
            text-align: center;
            color: #2c3e50;
            font-size: 2.5em;
            margin-bottom: 40px;
            font-weight: bold;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.1);
        }
        
        .table-section, .original-tables {
            display: flex;
            justify-content: space-around;
            margin-bottom: 40px;
            flex-wrap: wrap;
            gap: 30px;
        }
        
        .table-container {
            text-align: center;
            flex: 1;
            min-width: 300px;
        }
        
        .table-wrapper {
            flex: 1;
            min-width: 300px;
        }
        
        .table-title {
            font-size: 1.4em;
            font-weight: bold;
            color: #3498db;
            margin-bottom: 15px;
            text-align: center;
        }
        
        table {
            border-collapse: collapse;
            width: 100%;
            background: white;
            border-radius: 10px;
            overflow: hidden;
            box-shadow: 0 8px 25px rgba(0,0,0,0.1);
            margin: 0 auto;
        }
        
        th, td {
            border: 2px solid #3498db;
            padding: 10px;
            text-align: center;
            font-weight: bold;
        }
        
        th {
            background: linear-gradient(45deg, #3498db, #2980b9);
            color: white;
            font-size: 0.9em;
        }
        
        td {
            background: #f8f9fa;
            color: #2c3e50;
            font-size: 0.9em;
        }
        
        td:hover {
            background: #e3f2fd;
            transform: scale(1.05);
            transition: all 0.3s ease;
        }
        
        .query-section, .operation, .model-section {
            margin: 30px 0;
            padding: 25px;
            background: white;
            border-radius: 15px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.1);
            border-left: 5px solid #e74c3c;
        }
        
        .hierarchical {
            border-left: 5px solid #e74c3c;
        }
        
        .network {
            border-left: 5px solid #f39c12;
        }
        
        .relational {
            border-left: 5px solid #27ae60;
        }
        
        .query-title, .operation-title, .model-title {
            font-size: 1.3em;
            color: #e74c3c;
            margin-bottom: 15px;
            font-weight: bold;
        }
        
        .hierarchical .model-title {
            color: #e74c3c;
        }
        
        .network .model-title {
            color: #f39c12;
        }
        
        .relational .model-title {
            color: #27ae60;
        }
        
        .query-text, .explanation {
            color: #555;
            margin-bottom: 15px;
            font-size: 1.1em;
            line-height: 1.5;
        }
        
        .sql-code, .formula {
            background: #2c3e50;
            color: #ecf0f1;
            padding: 20px;
            border-radius: 8px;
            font-family: 'Courier New', monospace;
            font-size: 1.1em;
            margin: 15px 0;
            border-left: 4px solid #3498db;
            white-space: pre-line;
            overflow-x: auto;
        }
        
        .formula {
            background: #f1f2f6;
            color: #2c3e50;
            border-left: 4px solid #9b59b6;
            font-size: 1.2em;
        }
        
        .sql-keyword {
            color: #3498db;
            font-weight: bold;
        }
        
        .sql-string {
            color: #2ecc71;
        }
        
        .sql-comment {
            color: #95a5a6;
            font-style: italic;
        }
        
        .explanation-box {
            background: #f8f9fa;
            padding: 15px;
            border-radius: 8px;
            border-left: 4px solid #2ecc71;
            margin-top: 15px;
            color: #2c3e50;
        }
        
        .result-highlight {
            background: linear-gradient(45deg, #2ecc71, #27ae60);
        }
        
        .result-highlight th {
            background: linear-gradient(45deg, #2ecc71, #27ae60);
        }
        
        .error-note {
            background: #ffebee;
            border: 2px solid #e74c3c;
            border-radius: 10px;
            padding: 20px;
            margin: 20px 0;
            color: #c62828;
            font-weight: bold;
        }
        
        .highlight {
            background: #fff3cd;
            padding: 2px 5px;
            border-radius: 3px;
            font-weight: bold;
        }
        
        /* 데이터베이스 모델 관련 스타일 */
        .diagram-container {
            display: flex;
            justify-content: center;
            margin: 30px 0;
            min-height: 300px;
            align-items: center;
        }
        
        .hierarchical-tree {
            display: flex;
            flex-direction: column;
            align-items: center;
        }
        
        .tree-level {
            display: flex;
            justify-content: center;
            margin: 20px 0;
            gap: 40px;
            position: relative;
        }
        
        .tree-node {
            background: linear-gradient(45deg, #3498db, #2980b9);
            color: white;
            padding: 12px 20px;
            border-radius: 8px;
            font-weight: bold;
            box-shadow: 0 5px 15px rgba(0,0,0,0.2);
            position: relative;
            text-align: center;
            min-width: 120px;
        }
        
        .leaf-node {
            background: linear-gradient(45deg, #2ecc71, #27ae60);
            padding: 8px 15px;
            font-size: 0.9em;
        }
        
        .svg-container {
            display: flex;
            justify-content: center;
            margin: 20px 0;
        }
        
        .relationship-line {
            stroke: #34495e;
            stroke-width: 2;
            fill: none;
            marker-end: url(#arrowhead);
        }
        
        .node-text {
            font-size: 12px;
            font-weight: bold;
            text-anchor: middle;
            dominant-baseline: middle;
        }
        
        .feature-list {
            margin: 15px 0;
        }
        
        .feature-list li {
            margin: 8px 0;
            padding-left: 10px;
        }
        
        /* 문제3 테이블 스타일 */
        .relational th, .relational td {
            border: 2px solid #27ae60;
        }
        
        .relational th {
            background: linear-gradient(45deg, #27ae60, #2ecc71);
        }
        
        /* 반응형 디자인 */
        @media (max-width: 768px) {
            .main-title {
                font-size: 2.5em;
            }
            
            .tab {
                font-size: 1em;
                padding: 12px 20px;
                min-width: 150px;
            }
            
            .title {
                font-size: 2em;
            }
        }
        .toggle-answer {
            cursor: pointer;
            color: #3498db;
            font-weight: bold;
            margin-top: 15px;
            display: inline-block;
            padding: 10px 15px;
            border: 2px solid #3498db;
            border-radius: 8px;
            transition: all 0.3s ease;
        }
        .toggle-answer:hover {
            background: #3498db;
            color: white;
        }
        .sql-editor {
            width: 100%;
            height: 150px;
            background: #2d2d2d;
            color: #f8f8f2;
            border: 1px solid #ccc;
            border-radius: 8px;
            padding: 15px;
            font-family: 'Courier New', monospace;
            font-size: 1.1em;
            margin-bottom: 15px;
            resize: vertical;
        }
    </style>
</head>
<body>
    <div class="main-container">
        <h1 class="main-title">📚 데이터베이스 문제 모음집</h1>
        
        <!-- 탭 버튼들 -->
        <div class="tab-container">
            <button class="tab active" onclick="showTab('problem1')">문제 1: 데이터베이스 모델</button>
            <button class="tab" onclick="showTab('problem2')">문제 2: 관계대수 연산</button>
            <button class="tab" onclick="showTab('problem3')">문제 3: SQL 질의문</button>
            <button class="tab" onclick="showTab('problem4')">문제 1-1: 데이터베이스 모델</button>
            <button class="tab" onclick="showTab('problem5')">문제 2-2: 관계대수 연산</button>
            <button class="tab" onclick="showTab('problem6')">문제 3-1: SQL 질의문</button>
        </div>
        
        <!-- 콘텐츠 영역 -->
        <div class="content-container">
            <!-- 문제 1: 데이터베이스 모델 -->
            <div id="problem1" class="tab-content active">
                <h1 class="title">은행 데이터베이스 모델 변환</h1>
                
                <!-- 원본 계층적 모델 -->
                <div class="model-section hierarchical">
                    <div class="model-title">1. 계층적 데이터베이스 모델 (원본)</div>
                    <div class="diagram-container">
                        <div class="hierarchical-tree">
                            <div class="tree-level">
                                <div class="tree-node">은행 루트</div>
                            </div>
                            <div class="tree-level">
                                <div class="tree-node">이순신<br>대구 수성동</div>
                                <div class="tree-node">안중근<br>서울 신촌</div>
                                <div class="tree-node">김영삼<br>대전 둔산동</div>
                            </div>
                            <div class="tree-level">
                                <div class="leaf-node">101<br>500</div>
                                <div class="leaf-node">101<br>500</div>
                                <div class="leaf-node">103<br>1000</div>
                                <div class="leaf-node">103<br>1000</div>
                                <div class="leaf-node">105<br>700</div>
                            </div>
                            <div style="text-align: center; margin-top: 20px; color: #666; font-size: 0.9em;">
                                ↑ 이순신(101) | 안중근(101,103) | 김영삼(103,105) ↑
                            </div>
                        </div>
                    </div>
                    <div class="explanation">
                        <strong>특징:</strong>
                        <ul class="feature-list">
                            <li>트리 구조로 데이터가 조직됨</li>
                            <li>각 고객은 하나의 부모 노드를 가짐</li>
                            <li>고객 아래에 계좌 정보가 종속적으로 저장</li>
                            <li>데이터 접근 시 루트에서 시작하여 경로를 따라 이동</li>
                        </ul>
                    </div>
                </div>
                
                <!-- 네트워크 모델 -->
                <div class="model-section network">
                    <div class="model-title">2. 네트워크 데이터베이스 모델</div>
                    <div class="diagram-container">
                        <svg width="800" height="400" viewBox="0 0 800 400">
                            <!-- 고객 레코드 타입 -->
                            <rect x="50" y="50" width="120" height="60" fill="#f39c12" stroke="#e67e22" stroke-width="2" rx="5"/>
                            <text x="110" y="75" class="node-text" fill="white">고객</text>
                            <text x="110" y="90" class="node-text" fill="white">레코드타입</text>
                            
                            <!-- 계좌 레코드 타입 -->
                            <rect x="50" y="200" width="120" height="60" fill="#f39c12" stroke="#e67e22" stroke-width="2" rx="5"/>
                            <text x="110" y="225" class="node-text" fill="white">계좌</text>
                            <text x="110" y="240" class="node-text" fill="white">레코드타입</text>
                            
                            <!-- 고객 인스턴스들 -->
                            <rect x="250" y="20" width="150" height="40" fill="#3498db" stroke="#2980b9" stroke-width="2" rx="5"/>
                            <text x="325" y="45" class="node-text" fill="white">이순신,대구,수성동</text>
                            
                            <rect x="250" y="80" width="150" height="40" fill="#3498db" stroke="#2980b9" stroke-width="2" rx="5"/>
                            <text x="325" y="105" class="node-text" fill="white">안중근,서울,신촌</text>
                            
                            <rect x="250" y="140" width="150" height="40" fill="#3498db" stroke="#2980b9" stroke-width="2" rx="5"/>
                            <text x="325" y="165" class="node-text" fill="white">김영삼,대전,둔산동</text>
                            
                            <!-- 계좌 인스턴스들 -->
                            <rect x="500" y="50" width="80" height="30" fill="#2ecc71" stroke="#27ae60" stroke-width="2" rx="5"/>
                            <text x="540" y="70" class="node-text" fill="white">101,500</text>
                            
                            <rect x="500" y="120" width="80" height="30" fill="#2ecc71" stroke="#27ae60" stroke-width="2" rx="5"/>
                            <text x="540" y="140" class="node-text" fill="white">103,1000</text>
                            
                            <rect x="500" y="190" width="80" height="30" fill="#2ecc71" stroke="#27ae60" stroke-width="2" rx="5"/>
                            <text x="540" y="210" class="node-text" fill="white">105,700</text>
                            
                            <!-- 세트 관계 화살표들 -->
                            <defs>
                                <marker id="arrowhead" markerWidth="10" markerHeight="7" refX="9" refY="3.5" orient="auto">
                                    <polygon points="0 0, 10 3.5, 0 7" fill="#34495e"/>
                                </marker>
                            </defs>
                            
                            <!-- 고객-계좌 관계선들 -->
                            <line x1="400" y1="40" x2="500" y2="65" class="relationship-line"/>
                            <line x1="400" y1="100" x2="500" y2="65" class="relationship-line"/>
                            <line x1="400" y1="100" x2="500" y2="135" class="relationship-line"/>
                            <line x1="400" y1="160" x2="500" y2="135" class="relationship-line"/>
                            <line x1="400" y1="160" x2="500" y2="205" class="relationship-line"/>
                            
                            <!-- 세트 타입 레이블 -->
                            <text x="450" y="30" class="node-text" fill="#e74c3c">보유</text>
                            <text x="450" y="45" class="node-text" fill="#e74c3c">세트타입</text>
                        </svg>
                    </div>
                    <div class="explanation">
                        <strong>특징:</strong>
                        <ul class="feature-list">
                            <li><span class="highlight">세트 타입</span>으로 레코드 간 관계 정의</li>
                            <li>고객(Owner) ↔ 계좌(Member) 관계</li>
                            <li>다대다 관계 표현 가능 (한 계좌를 여러 고객이 공유 가능)</li>
                            <li>포인터를 통한 네비게이션</li>
                            <li>계층형보다 유연하지만 복잡한 구조</li>
                        </ul>
                    </div>
                </div>
                
                <!-- 관계형 모델 -->
                <div class="model-section relational">
                    <div class="model-title">3. 관계형 데이터베이스 모델</div>
                    <div class="table-container">
                        <div class="table-wrapper">
                            <div class="table-title">고객 테이블</div>
                            <table>
                                <thead>
                                    <tr>
                                        <th style="border-color: #27ae60; background: linear-gradient(45deg, #27ae60, #2ecc71);">고객ID</th>
                                        <th style="border-color: #27ae60; background: linear-gradient(45deg, #27ae60, #2ecc71);">고객명</th>
                                        <th style="border-color: #27ae60; background: linear-gradient(45deg, #27ae60, #2ecc71);">시</th>
                                        <th style="border-color: #27ae60; background: linear-gradient(45deg, #27ae60, #2ecc71);">동</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <tr>
                                        <td style="border-color: #27ae60;">C001</td>
                                        <td style="border-color: #27ae60;">이순신</td>
                                        <td style="border-color: #27ae60;">대구</td>
                                        <td style="border-color: #27ae60;">수성동</td>
                                    </tr>
                                    <tr>
                                        <td style="border-color: #27ae60;">C002</td>
                                        <td style="border-color: #27ae60;">안중근</td>
                                        <td style="border-color: #27ae60;">서울</td>
                                        <td style="border-color: #27ae60;">신촌</td>
                                    </tr>
                                    <tr>
                                        <td style="border-color: #27ae60;">C003</td>
                                        <td style="border-color: #27ae60;">김영삼</td>
                                        <td style="border-color: #27ae60;">대전</td>
                                        <td style="border-color: #27ae60;">둔산동</td>
                                    </tr>
                                </tbody>
                            </table>
                        </div>
                        
                        <div class="table-wrapper">
                            <div class="table-title">계좌 테이블</div>
                            <table>
                                <thead>
                                    <tr>
                                        <th style="border-color: #27ae60; background: linear-gradient(45deg, #27ae60, #2ecc71);">계좌번호</th>
                                        <th style="border-color: #27ae60; background: linear-gradient(45deg, #27ae60, #2ecc71);">예금액</th>
                                        <th style="border-color: #27ae60; background: linear-gradient(45deg, #27ae60, #2ecc71);">고객ID</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <tr>
                                        <td style="border-color: #27ae60;">101</td>
                                        <td style="border-color: #27ae60;">500</td>
                                        <td style="border-color: #27ae60;">C001</td>
                                    </tr>
                                    <tr>
                                        <td style="border-color: #27ae60;">101</td>
                                        <td style="border-color: #27ae60;">500</td>
                                        <td style="border-color: #27ae60;">C002</td>
                                    </tr>
                                    <tr>
                                        <td style="border-color: #27ae60;">103</td>
                                        <td style="border-color: #27ae60;">1000</td>
                                        <td style="border-color: #27ae60;">C002</td>
                                    </tr>
                                    <tr>
                                        <td style="border-color: #27ae60;">103</td>
                                        <td style="border-color: #27ae60;">1000</td>
                                        <td style="border-color: #27ae60;">C003</td>
                                    </tr>
                                    <tr>
                                        <td style="border-color: #27ae60;">105</td>
                                        <td style="border-color: #27ae60;">700</td>
                                        <td style="border-color: #27ae60;">C003</td>
                                    </tr>
                                </tbody>
                            </table>
                        </div>
                    </div>
                    
                    <div class="table-container" style="margin-top: 30px;">
                        <div class="table-wrapper">
                            <div class="table-title">고객_계좌 관계 테이블 (다대다 관계 해결)</div>
                            <table>
                                <thead>
                                    <tr>
                                        <th style="border-color: #27ae60; background: linear-gradient(45deg, #27ae60, #2ecc71);">고객ID</th>
                                        <th style="border-color: #27ae60; background: linear-gradient(45deg, #27ae60, #2ecc71);">계좌번호</th>
                                        <th style="border-color: #27ae60; background: linear-gradient(45deg, #27ae60, #2ecc71);">개설일</th>
                                        <th style="border-color: #27ae60; background: linear-gradient(45deg, #27ae60, #2ecc71);">권한</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <tr>
                                        <td style="border-color: #27ae60;">C001</td>
                                        <td style="border-color: #27ae60;">101</td>
                                        <td style="border-color: #27ae60;">2023-01-15</td>
                                        <td style="border-color: #27ae60;">주계좌</td>
                                    </tr>
                                    <tr>
                                        <td style="border-color: #27ae60;">C002</td>
                                        <td style="border-color: #27ae60;">101</td>
                                        <td style="border-color: #27ae60;">2023-01-15</td>
                                        <td style="border-color: #27ae60;">공동계좌</td>
                                    </tr>
                                    <tr>
                                        <td style="border-color: #27ae60;">C002</td>
                                        <td style="border-color: #27ae60;">103</td>
                                        <td style="border-color: #27ae60;">2023-02-20</td>
                                        <td style="border-color: #27ae60;">주계좌</td>
                                    </tr>
                                    <tr>
                                        <td style="border-color: #27ae60;">C003</td>
                                        <td style="border-color: #27ae60;">103</td>
                                        <td style="border-color: #27ae60;">2023-02-20</td>
                                        <td style="border-color: #27ae60;">공동계좌</td>
                                    </tr>
                                    <tr>
                                        <td style="border-color: #27ae60;">C003</td>
                                        <td style="border-color: #27ae60;">105</td>
                                        <td style="border-color: #27ae60;">2023-03-10</td>
                                        <td style="border-color: #27ae60;">주계좌</td>
                                    </tr>
                                </tbody>
                            </table>
                        </div>
                    </div>
                    
                    <div class="explanation">
                        <strong>특징:</strong>
                        <ul class="feature-list">
                            <li><span class="highlight">정규화</span>를 통한 데이터 중복 제거</li>
                            <li>기본키(Primary Key)와 외래키(Foreign Key)로 관계 정의</li>
                            <li>SQL을 통한 유연한 데이터 조작</li>
                            <li>JOIN 연산으로 테이블 간 관계 조회</li>
                            <li>ACID 특성 보장으로 데이터 무결성 유지</li>
                            <li>다대다 관계는 별도의 관계 테이블로 해결</li>
                        </ul>
                    </div>
                </div>
                
                <!-- 모델 비교 -->
                <div class="model-section">
                    <div class="model-title" style="color: #9b59b6;">📊 세 모델의 비교</div>
                    <div class="table-container">
                        <table>
                            <thead>
                                <tr>
                                    <th>구분</th>
                                    <th>계층적 모델</th>
                                    <th>네트워크 모델</th>
                                    <th>관계형 모델</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td><strong>구조</strong></td>
                                    <td>트리 구조</td>
                                    <td>그래프 구조</td>
                                    <td>테이블 구조</td>
                                </tr>
                                <tr>
                                    <td><strong>관계</strong></td>
                                    <td>1:N만 가능</td>
                                    <td>M:N 가능</td>
                                    <td>모든 관계 가능</td>
                                </tr>
                                <tr>
                                    <td><strong>접근방법</strong></td>
                                    <td>루트부터 순차</td>
                                    <td>포인터 네비게이션</td>
                                    <td>SQL 질의</td>
                                </tr>
                                <tr>
                                    <td><strong>유연성</strong></td>
                                    <td>낮음</td>
                                    <td>보통</td>
                                    <td>높음</td>
                                </tr>
                                <tr>
                                    <td><strong>복잡도</strong></td>
                                    <td>단순</td>
                                    <td>복잡</td>
                                    <td>보통</td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>
            
            <!-- 문제 2: 관계대수 연산 -->
            <div id="problem2" class="tab-content">
                <h1 class="title">관계대수 연산 결과</h1>
                
                <!-- 원본 테이블들 -->
                <div class="original-tables">
                    <div class="table-container">
                        <div class="table-title">릴레이션 R</div>
                        <table>
                            <thead>
                                <tr>
                                    <th>A</th>
                                    <th>B</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>a1</td>
                                    <td>b1</td>
                                </tr>
                                <tr>
                                    <td>a2</td>
                                    <td>b1</td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                    
                    <div class="table-container">
                        <div class="table-title">릴레이션 S</div>
                        <table>
                            <thead>
                                <tr>
                                    <th>B</th>
                                    <th>C</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>b1</td>
                                    <td>c1</td>
                                </tr>
                                <tr>
                                    <td>b1</td>
                                    <td>c2</td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </div>
                
                <!-- 연산 1: R ∪ S -->
                <div class="operation">
                    <div class="operation-title">① R ∪ S (합집합)</div>
                    <div class="formula">R ∪ S</div>
                    <div class="error-note">
                        <strong>연산 불가능!</strong><br>
                        합집합 연산을 수행하려면 두 릴레이션이 같은 스키마(동일한 속성들)를 가져야 합니다.<br>
                        R의 스키마: (A, B)<br>
                        S의 스키마: (B, C)<br>
                        → 스키마가 다르므로 합집합 연산이 불가능합니다.
                    </div>
                </div>
                
                <!-- 연산 2: R - S -->
                <div class="operation">
                    <div class="operation-title">② R - S (차집합)</div>
                    <div class="formula">R - S</div>
                    <div class="error-note">
                        <strong>연산 불가능!</strong><br>
                        차집합 연산을 수행하려면 두 릴레이션이 같은 스키마(동일한 속성들)를 가져야 합니다.<br>
                        R의 스키마: (A, B)<br>
                        S의 스키마: (B, C)<br>
                        → 스키마가 다르므로 차집합 연산이 불가능합니다.
                    </div>
                </div>
                
                <!-- 연산 3: R × S -->
                <div class="operation">
                    <div class="operation-title">③ R × S (카티션 곱)</div>
                    <div class="formula">R × S</div>
                    <div class="explanation">
                        카티션 곱은 R의 모든 튜플과 S의 모든 튜플을 결합합니다.<br>
                        결과 스키마: (R.A, R.B, S.B, S.C)<br>
                        튜플 개수: |R| × |S| = 2 × 2 = 4개
                    </div>
                    <div class="table-container">
                        <table class="result-highlight">
                            <thead>
                                <tr>
                                    <th>R.A</th>
                                    <th>R.B</th>
                                    <th>S.B</th>
                                    <th>S.C</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>a1</td>
                                    <td>b1</td>
                                    <td>b1</td>
                                    <td>c1</td>
                                </tr>
                                <tr>
                                    <td>a1</td>
                                    <td>b1</td>
                                    <td>b1</td>
                                    <td>c2</td>
                                </tr>
                                <tr>
                                    <td>a2</td>
                                    <td>b1</td>
                                    <td>b1</td>
                                    <td>c1</td>
                                </tr>
                                <tr>
                                    <td>a2</td>
                                    <td>b1</td>
                                    <td>b1</td>
                                    <td>c2</td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </div>
                
                <!-- 연산 4: σB='b1'(S) -->
                <div class="operation">
                    <div class="operation-title">④ σB='b1'(S) (선택 연산)</div>
                    <div class="formula">σB='b1'(S)</div>
                    <div class="explanation">
                        릴레이션 S에서 B 속성값이 'b1'인 튜플들만 선택합니다.<br>
                        S의 모든 튜플이 B='b1' 조건을 만족하므로 모든 튜플이 결과에 포함됩니다.
                    </div>
                    <div class="table-container">
                        <table class="result-highlight">
                            <thead>
                                <tr>
                                    <th>B</th>
                                    <th>C</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>b1</td>
                                    <td>c1</td>
                                </tr>
                                <tr>
                                    <td>b1</td>
                                    <td>c2</td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>
            
            <!-- 문제 3: SQL 질의문 -->
            <div id="problem3" class="tab-content">
                <h1 class="title">K회사 데이터베이스 SQL 질의문</h1>
                
                <!-- 테이블 구조 표시 -->
                <div class="table-section">
                    <div class="table-container">
                        <div class="table-title">부서 테이블</div>
                        <table>
                            <thead>
                                <tr>
                                    <th>부서번호</th>
                                    <th>부서명</th>
                                    <th>예산</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>D001</td>
                                    <td>총무부</td>
                                    <td>8000</td>
                                </tr>
                                <tr>
                                    <td>D002</td>
                                    <td>인사부</td>
                                    <td>12000</td>
                                </tr>
                                <tr>
                                    <td>D003</td>
                                    <td>기획부</td>
                                    <td>9000</td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                    
                    <div class="table-container">
                        <div class="table-title">사원 테이블</div>
                        <table>
                            <thead>
                                <tr>
                                    <th>사원번호</th>
                                    <th>사원명</th>
                                    <th>부서번호</th>
                                    <th>월급여</th>
                                    <th>근무년수</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>E100</td>
                                    <td>김영수</td>
                                    <td>D001</td>
                                    <td>400</td>
                                    <td>10</td>
                                </tr>
                                <tr>
                                    <td>E101</td>
                                    <td>백영한</td>
                                    <td>D002</td>
                                    <td>350</td>
                                    <td>5</td>
                                </tr>
                                <tr>
                                    <td>E102</td>
                                    <td>최태호</td>
                                    <td>D002</td>
                                    <td>380</td>
                                    <td>7</td>
                                </tr>
                                <tr>
                                    <td>E103</td>
                                    <td>이은정</td>
                                    <td>D003</td>
                                    <td>280</td>
                                    <td>3</td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </div>
                
                <!-- 질의문들 -->
                <div class="query-section">
                    <div class="query-title">(a) 위의 두 테이블을 만드시오.</div>
                    <div class="query-text">부서 테이블과 사원 테이블을 생성하는 SQL 문입니다.</div>
                    <div class="sql-code"><span class="sql-comment">-- 부서 테이블 생성</span>
<span class="sql-keyword">CREATE TABLE</span> 부서 (
    부서번호 <span class="sql-keyword">CHAR</span>(4) <span class="sql-keyword">PRIMARY KEY</span>,
    부서명 <span class="sql-keyword">VARCHAR</span>(20) <span class="sql-keyword">NOT NULL</span>,
    예산 <span class="sql-keyword">INT</span>
);

<span class="sql-comment">-- 사원 테이블 생성</span>
<span class="sql-keyword">CREATE TABLE</span> 사원 (
    사원번호 <span class="sql-keyword">CHAR</span>(4) <span class="sql-keyword">PRIMARY KEY</span>,
    사원명 <span class="sql-keyword">VARCHAR</span>(20) <span class="sql-keyword">NOT NULL</span>,
    부서번호 <span class="sql-keyword">CHAR</span>(4),
    월급여 <span class="sql-keyword">INT</span>,
    근무년수 <span class="sql-keyword">INT</span>,
    <span class="sql-keyword">FOREIGN KEY</span> (부서번호) <span class="sql-keyword">REFERENCES</span> 부서(부서번호)
);

<span class="sql-comment">-- 데이터 삽입</span>
<span class="sql-keyword">INSERT INTO</span> 부서 <span class="sql-keyword">VALUES</span> 
(<span class="sql-string">'D001'</span>, <span class="sql-string">'총무부'</span>, 8000),
(<span class="sql-string">'D002'</span>, <span class="sql-string">'인사부'</span>, 12000),
(<span class="sql-string">'D003'</span>, <span class="sql-string">'기획부'</span>, 9000);

<span class="sql-keyword">INSERT INTO</span> 사원 <span class="sql-keyword">VALUES</span>
(<span class="sql-string">'E100'</span>, <span class="sql-string">'김영수'</span>, <span class="sql-string">'D001'</span>, 400, 10),
(<span class="sql-string">'E101'</span>, <span class="sql-string">'백영한'</span>, <span class="sql-string">'D002'</span>, 350, 5),
(<span class="sql-string">'E102'</span>, <span class="sql-string">'최태호'</span>, <span class="sql-string">'D002'</span>, 380, 7),
(<span class="sql-string">'E103'</span>, <span class="sql-string">'이은정'</span>, <span class="sql-string">'D003'</span>, 280, 3);</div>
                </div>
                
                <div class="query-section">
                    <div class="query-title">(b) 사원번호가 'E103'인 사원이 속한 부서명을 출력하시오.</div>
                    <div class="query-text">사원 테이블과 부서 테이블을 조인하여 특정 사원의 부서명을 찾습니다.</div>
                    <div class="sql-code"><span class="sql-keyword">SELECT</span> 부서.부서명
<span class="sql-keyword">FROM</span> 사원 <span class="sql-keyword">JOIN</span> 부서 <span class="sql-keyword">ON</span> 사원.부서번호 = 부서.부서번호
<span class="sql-keyword">WHERE</span> 사원.사원번호 = <span class="sql-string">'E103'</span>;</div>
                    <div class="explanation-box">
                        <strong>결과:</strong> 기획부<br>
                        사원번호 E103(이은정)의 부서번호는 D003이고, 이는 기획부에 해당합니다.
                    </div>
                </div>
                
                <div class="query-section">
                    <div class="query-title">(c) 부서명별로 사원들의 평균 월급여를 출력하시오.</div>
                    <div class="query-text">부서별로 그룹화하여 각 부서의 평균 월급여를 계산합니다.</div>
                    <div class="sql-code"><span class="sql-keyword">SELECT</span> 부서.부서명, <span class="sql-keyword">AVG</span>(사원.월급여) <span class="sql-keyword">AS</span> 평균월급여
<span class="sql-keyword">FROM</span> 사원 <span class="sql-keyword">JOIN</span> 부서 <span class="sql-keyword">ON</span> 사원.부서번호 = 부서.부서번호
<span class="sql-keyword">GROUP BY</span> 부서.부서명;</div>
                    <div class="explanation-box">
                        <strong>결과:</strong><br>
                        • 총무부: 400 (김영수 1명)<br>
                        • 인사부: 365 (백영한 350 + 최태호 380) / 2<br>
                        • 기획부: 280 (이은정 1명)
                    </div>
                </div>
                
                <div class="query-section">
                    <div class="query-title">(d) '백영한'과 같은 부서에 근무하는 사원의 사원명과 부서명을 출력하시오.</div>
                    <div class="query-text">서브쿼리를 사용하여 백영한과 같은 부서번호를 가진 사원들을 찾습니다.</div>
                    <div class="sql-code"><span class="sql-keyword">SELECT</span> 사원.사원명, 부서.부서명
<span class="sql-keyword">FROM</span> 사원 <span class="sql-keyword">JOIN</span> 부서 <span class="sql-keyword">ON</span> 사원.부서번호 = 부서.부서번호
<span class="sql-keyword">WHERE</span> 사원.부서번호 = (
    <span class="sql-keyword">SELECT</span> 부서번호 
    <span class="sql-keyword">FROM</span> 사원 
    <span class="sql-keyword">WHERE</span> 사원명 = <span class="sql-string">'백영한'</span>
);</div>
                    <div class="explanation-box">
                        <strong>결과:</strong><br>
                        • 백영한, 인사부<br>
                        • 최태호, 인사부<br>
                        백영한의 부서번호는 D002(인사부)이므로, 같은 부서에 근무하는 모든 사원을 출력합니다.
                    </div>
                </div>
                
                <div class="query-section">
                    <div class="query-title">(e) 모든 사원의 근무년수를 1년 증가시킨 후에 사원 테이블을 출력하시오.</div>
                    <div class="query-text">UPDATE문을 사용하여 모든 사원의 근무년수를 1년씩 증가시킵니다.</div>
                    <div class="sql-code"><span class="sql-comment">-- 근무년수 1년 증가</span>
<span class="sql-keyword">UPDATE</span> 사원 
<span class="sql-keyword">SET</span> 근무년수 = 근무년수 + 1;

<span class="sql-comment">-- 업데이트된 사원 테이블 출력</span>
<span class="sql-keyword">SELECT</span> * <span class="sql-keyword">FROM</span> 사원;</div>
                    <div class="explanation-box">
                        <strong>결과:</strong><br>
                        • E100 김영수: 근무년수 10 → 11<br>
                        • E101 백영한: 근무년수 5 → 6<br>
                        • E102 최태호: 근무년수 7 → 8<br>
                        • E103 이은정: 근무년수 3 → 4
                    </div>
                </div>
            </div>
        </div>
            <!-- 문제 1-1: 계층형 모델 변환 -->
            <div id="problem4" class="tab-content">
                <h1 class="title">데이터베이스 모델</h1>
                
                <div class="model-section relational">
                    <div class="model-title">1. 관계형 모델 (Relational Model)</div>
                    <div class="table-section">
                        <div class="table-container">
                            <div class="table-title">고객 (Customer) 테이블</div>
                            <table>
                                <thead><tr><th>고객명</th><th>시</th><th>동</th></tr></thead>
                                <tbody>
                                    <tr><td>이순신</td><td>대구</td><td>수성동</td></tr>
                                    <tr><td>안중근</td><td>서울</td><td>신촌</td></tr>
                                    <tr><td>김영삼</td><td>대전</td><td>둔산동</td></tr>
                                </tbody>
                            </table>
                        </div>
                        <div class="table-container">
                            <div class="table-title">계좌 (Account) 테이블</div>
                            <table>
                                <thead><tr><th>계좌번호</th><th>고객명</th><th>예금액</th></tr></thead>
                                <tbody>
                                    <tr><td>101</td><td>이순신</td><td>500</td></tr>
                                    <tr><td>101</td><td>안중근</td><td>500</td></tr>
                                    <tr><td>103</td><td>안중근</td><td>1000</td></tr>
                                    <tr><td>103</td><td>김영삼</td><td>1000</td></tr>
                                    <tr><td>105</td><td>김영삼</td><td>700</td></tr>
                                </tbody>
                            </table>
                        </div>
                    </div>
                    <div class="explanation">
                        <strong>관계 (Relationships):</strong>
                        <ul class="feature-list">
                            <li>고객 1 : N 계좌 (한 고객은 여러 계좌를 가질 수 있음)</li>
                            <li>외래키: 계좌.고객명 → 고객.고객명</li>
                        </ul>
                    </div>
                </div>

                <div class="model-section network">
                    <div class="model-title">2. 네트워크 모델 (Network Model)</div>
                     <div class="explanation">
                        <strong>레코드 타입:</strong>
                        <ul class="feature-list">
                            <li>고객 (Customer)</li>
                            <li>계좌 (Account)</li>
                        </ul>
                        <strong>집합 관계:</strong>
                        <ul class="feature-list">
                            <li>CUSTOMER_ACCOUNT (고객 → 계좌): 1:N</li>
                        </ul>
                         <strong>네트워크 연결:</strong>
                        <ul class="feature-list">
                            <li>이순신 ← → 계좌 101(500원)</li>
                            <li>안중근 ← → 계좌 101(500원)</li>
                            <li>안중근 ← → 계좌 103(1000원)</li>
                            <li>김영삼 ← → 계좌 103(1000원)</li>
                            <li>김영삼 ← → 계좌 105(700원)</li>
                        </ul>
                    </div>
                </div>

                <div class="model-section">
                    <div class="model-title" style="color: #9b59b6;">모델 비교</div>
                    <div class="table-container">
                        <table>
                            <thead>
                                <tr><th>특징</th><th>계층적 모델</th><th>관계형 모델</th><th>네트워크 모델</th></tr>
                            </thead>
                            <tbody>
                                <tr><td><strong>구조</strong></td><td>트리 구조</td><td>테이블 기반</td><td>그래프 구조</td></tr>
                                <tr><td><strong>관계</strong></td><td>1:N만 가능</td><td>1:1, 1:N, N:M 모두 가능</td><td>1:N, N:M 가능</td></tr>
                                <tr><td><strong>데이터 중복</strong></td><td>높음</td><td>낮음</td><td>중간</td></tr>
                                <tr><td><strong>질의 복잡도</strong></td><td>높음</td><td>낮음</td><td>중간</td></tr>
                                <tr><td><strong>유연성</strong></td><td>낮음</td><td>높음</td><td>중간</td></tr>
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>
            <!-- 문제 2-1: 관계대수 연산 심화 -->
            <div id="problem5" class="tab-content">
                <h1 class="title">관계대수 연산</h1>
                
                <div class="original-tables">
                    <div class="table-container">
                        <div class="table-title">릴레이션 R</div>
                        <table>
                            <thead><tr><th>A</th><th>B</th></tr></thead>
                            <tbody>
                                <tr><td>a1</td><td>b1</td></tr>
                                <tr><td>a2</td><td>b1</td></tr>
                            </tbody>
                        </table>
                    </div>
                    <div class="table-container">
                        <div class="table-title">릴레이션 S</div>
                        <table>
                            <thead><tr><th>B</th><th>C</th></tr></thead>
                            <tbody>
                                <tr><td>b1</td><td>c1</td></tr>
                                <tr><td>b1</td><td>c2</td></tr>
                            </tbody>
                        </table>
                    </div>
                </div>
                
                <div class="operation">
                    <div class="operation-title">① R ∪ S (합집합, Union)</div>
                    <div class="formula">R ∪ S</div>
                    <div class="error-note">
                        <strong>연산 불가능!</strong><br>
                        합집합 연산은 두 릴레이션이 <strong>동일한 스키마</strong>를 가져야 합니다.<br>
                        R의 스키마: (A, B)<br>
                        S의 스키마: (B, C)<br>
                        → 스키마가 다르므로 합집합 연산이 <strong>불가능</strong>합니다.
                    </div>
                </div>
                
                <div class="operation">
                    <div class="operation-title">② R - S (차집합, Difference)</div>
                    <div class="formula">R - S</div>
                    <div class="error-note">
                        <strong>연산 불가능!</strong><br>
                        차집합 연산도 두 릴레이션이 <strong>동일한 스키마</strong>를 가져야 합니다.<br>
                        R의 스키마: (A, B)<br>
                        S의 스키마: (B, C)<br>
                        → 스키마가 다르므로 차집합 연산이 <strong>불가능</strong>합니다.
                    </div>
                </div>
                
                <div class="operation">
                    <div class="operation-title">③ R × S (카티션 곱, Cartesian Product)</div>
                    <div class="formula">R × S</div>
                    <div class="explanation">
                        <strong>설명:</strong> 카티션 곱은 R의 각 튜플과 S의 각 튜플을 모두 조합합니다.<br>
                        결과 스키마: (A, R.B, S.B, C)<br>
                        튜플 개수: |R| × |S| = 2 × 2 = 4개
                    </div>
                    <div class="table-container">
                        <table class="result-highlight">
                            <thead><tr><th>A</th><th>R.B</th><th>S.B</th><th>C</th></tr></thead>
                            <tbody>
                                <tr><td>a1</td><td>b1</td><td>b1</td><td>c1</td></tr>
                                <tr><td>a1</td><td>b1</td><td>b1</td><td>c2</td></tr>
                                <tr><td>a2</td><td>b1</td><td>b1</td><td>c1</td></tr>
                                <tr><td>a2</td><td>b1</td><td>b1</td><td>c2</td></tr>
                            </tbody>
                        </table>
                    </div>
                </div>
                
                <div class="operation">
                    <div class="operation-title">④ σB='b1'(S) (선택, Selection)</div>
                    <div class="formula">σ<sub>B='b1'</sub>(S)</div>
                    <div class="explanation">
                        <strong>설명:</strong> 릴레이션 S에서 B 속성 값이 'b1'인 튜플들을 선택합니다.<br>
                        S의 모든 튜플에서 B='b1'이므로 모든 튜플이 선택됩니다.
                    </div>
                    <div class="table-container">
                        <table class="result-highlight">
                            <thead><tr><th>B</th><th>C</th></tr></thead>
                            <tbody>
                                <tr><td>b1</td><td>c1</td></tr>
                                <tr><td>b1</td><td>c2</td></tr>
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>
            <div id="problem6" class="tab-content">
                <h1 class="title">문제 3-1: SQL 질의문</h1>
                
                <div class="table-section">
                    <div class="table-container">
                        <div class="table-title">부서 테이블</div>
                        <table>
                            <thead>
                                <tr>
                                    <th>부서번호</th>
                                    <th>부서명</th>
                                    <th>예산</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>D001</td>
                                    <td>총무부</td>
                                    <td>8000</td>
                                </tr>
                                <tr>
                                    <td>D002</td>
                                    <td>인사부</td>
                                    <td>12000</td>
                                </tr>
                                <tr>
                                    <td>D003</td>
                                    <td>기획부</td>
                                    <td>9000</td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                    
                    <div class="table-container">
                        <div class="table-title">사원 테이블</div>
                        <table>
                            <thead>
                                <tr>
                                    <th>사원번호</th>
                                    <th>사원명</th>
                                    <th>부서번호</th>
                                    <th>월급여</th>
                                    <th>근무년수</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>E100</td>
                                    <td>김영수</td>
                                    <td>D001</td>
                                    <td>400</td>
                                    <td>10</td>
                                </tr>
                                <tr>
                                    <td>E101</td>
                                    <td>백영란</td>
                                    <td>D002</td>
                                    <td>350</td>
                                    <td>5</td>
                                </tr>
                                <tr>
                                    <td>E102</td>
                                    <td>최재훈</td>
                                    <td>D002</td>
                                    <td>380</td>
                                    <td>7</td>
                                </tr>
                                <tr>
                                    <td>E103</td>
                                    <td>이은정</td>
                                    <td>D003</td>
                                    <td>280</td>
                                    <td>3</td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </div>
                
                <div class="query-section">
                    <div class="query-title">(a) 위의 두 테이블을 만드시오.</div>
                    <div class="toggle-answer" onclick="toggleAnswer(this)">정답을 확인하려면 클릭하시오</div>
                    <div class="answer-container" style="display: none;">
                        <div class="sql-code"><span class="sql-comment">-- 부서 테이블 생성</span>
<span class="sql-keyword">CREATE TABLE</span> 부서 (                          <span class="sql-comment">-- '부서'라는 이름의 테이블을 생성</span>
    부서번호 <span class="sql-keyword">VARCHAR</span>(10) <span class="sql-keyword">PRIMARY KEY</span>,         <span class="sql-comment">-- 부서번호 컬럼: 최대 10자의 문자열, 기본키로 설정</span>
    부서명 <span class="sql-keyword">VARCHAR</span>(50) <span class="sql-keyword">NOT NULL</span>,             <span class="sql-comment">-- 부서명 컬럼: 최대 50자의 문자열, 필수 입력(NULL 불가)</span>
    예산 <span class="sql-keyword">INT</span>                                 <span class="sql-comment">-- 예산 컬럼: 정수형 데이터</span>
);                                          <span class="sql-comment">-- 테이블 생성 구문 종료</span>

<span class="sql-comment">-- 부서 데이터 삽입</span>
<span class="sql-keyword">INSERT INTO</span> 부서 (부서번호, 부서명, 예산) <span class="sql-keyword">VALUES</span>  <span class="sql-comment">-- 부서 테이블의 지정된 컬럼들에 값을 삽입</span>
(<span class="sql-string">'D001'</span>, <span class="sql-string">'총무부'</span>, 8000),                    <span class="sql-comment">-- 첫 번째 행: D001번 총무부, 예산 8000</span>
(<span class="sql-string">'D002'</span>, <span class="sql-string">'인사부'</span>, 12000),                   <span class="sql-comment">-- 두 번째 행: D002번 인사부, 예산 12000</span>
(<span class="sql-string">'D003'</span>, <span class="sql-string">'기획부'</span>, 9000);                    <span class="sql-comment">-- 세 번째 행: D003번 기획부, 예산 9000</span>

<span class="sql-comment">-- 사원 테이블 생성</span>
<span class="sql-keyword">CREATE TABLE</span> 사원 (                          <span class="sql-comment">-- '사원'이라는 이름의 테이블을 생성</span>
    사원번호 <span class="sql-keyword">VARCHAR</span>(10) <span class="sql-keyword">PRIMARY KEY</span>,         <span class="sql-comment">-- 사원번호 컬럼: 최대 10자의 문자열, 기본키로 설정</span>
    사원명 <span class="sql-keyword">VARCHAR</span>(50) <span class="sql-keyword">NOT NULL</span>,             <span class="sql-comment">-- 사원명 컬럼: 최대 50자의 문자열, 필수 입력(NULL 불가)</span>
    부서번호 <span class="sql-keyword">VARCHAR</span>(10),                     <span class="sql-comment">-- 부서번호 컬럼: 최대 10자의 문자열 (NULL 허용)</span>
    월급여 <span class="sql-keyword">INT</span>,                              <span class="sql-comment">-- 월급여 컬럼: 정수형 데이터</span>
    근무년수 <span class="sql-keyword">INT</span>,                            <span class="sql-comment">-- 근무년수 컬럼: 정수형 데이터</span>
    <span class="sql-keyword">FOREIGN KEY</span> (부서번호) <span class="sql-keyword">REFERENCES</span> 부서(부서번호)  <span class="sql-comment">-- 외래키 설정: 부서번호가 부서 테이블의 부서번호를 참조</span>
);                                          <span class="sql-comment">-- 테이블 생성 구문 종료</span>

<span class="sql-comment">-- 사원 데이터 삽입</span>
<span class="sql-keyword">INSERT INTO</span> 사원 (사원번호, 사원명, 부서번호, 월급여, 근무년수) <span class="sql-keyword">VALUES</span>  <span class="sql-comment">-- 사원 테이블의 지정된 컬럼들에 값을 삽입</span>
(<span class="sql-string">'E100'</span>, <span class="sql-string">'김영수'</span>, <span class="sql-string">'D001'</span>, 400, 10),          <span class="sql-comment">-- 첫 번째 행: E100번 김영수, D001 부서, 월급여 400, 근무년수 10년</span>
(<span class="sql-string">'E101'</span>, <span class="sql-string">'백영란'</span>, <span class="sql-string">'D002'</span>, 350, 5),           <span class="sql-comment">-- 두 번째 행: E101번 백영란, D002 부서, 월급여 350, 근무년수 5년</span>
(<span class="sql-string">'E102'</span>, <span class="sql-string">'최재훈'</span>, <span class="sql-string">'D002'</span>, 380, 7),           <span class="sql-comment">-- 세 번째 행: E102번 최재훈, D002 부서, 월급여 380, 근무년수 7년</span>
(<span class="sql-string">'E103'</span>, <span class="sql-string">'이은정'</span>, <span class="sql-string">'D003'</span>, 280, 3);           <span class="sql-comment">-- 네 번째 행: E103번 이은정, D003 부서, 월급여 280, 근무년수 3년</span>
                        </div>
                    </div>
                </div>

                <div class="query-section">
                    <div class="query-title">(b) 사원번호가 'E103'인 사원이 속한 부서명을 출력하시오.</div>
                    <div class="toggle-answer" onclick="toggleAnswer(this)">정답을 확인하려면 클릭하시오</div>
                    <div class="answer-container" style="display: none;">
                        <div class="sql-code"><span class="sql-keyword">SELECT</span> 부서.부서명                            <span class="sql-comment">-- SELECT절: 부서 테이블의 부서명 컬럼을 선택하여 출력</span>
<span class="sql-keyword">FROM</span> 사원                                   <span class="sql-comment">-- FROM절: 사원 테이블을 기본 테이블로 지정</span>
<span class="sql-keyword">JOIN</span> 부서                                   <span class="sql-comment">-- JOIN절: 부서 테이블과 조인(결합)을 수행</span>
<span class="sql-keyword">ON</span> 사원.부서번호 = 부서.부서번호              <span class="sql-comment">-- ON절: 조인 조건 - 사원 테이블의 부서번호와 부서 테이블의 부서번호가 같은 행들을 연결</span>
<span class="sql-keyword">WHERE</span> 사원.사원번호 = <span class="sql-string">'E103'</span>;                <span class="sql-comment">-- WHERE절: 조건 - 사원 테이블의 사원번호가 'E103'인 행만 필터링</span></div>
                    </div>
                </div>

                <div class="query-section">
                    <div class="query-title">(c) 부서명별로 사원들의 평균 월급여를 출력하시오.</div>
                    <div class="toggle-answer" onclick="toggleAnswer(this)">정답을 확인하려면 클릭하시오</div>
                    <div class="answer-container" style="display: none;">
                        <div class="sql-code"><span class="sql-keyword">SELECT</span> 부서.부서명, <span class="sql-keyword">AVG</span>(사원.월급여) <span class="sql-keyword">AS</span> 평균월급여  <span class="sql-comment">-- SELECT절: 부서명과 월급여의 평균값을 출력 (AS로 별칭 지정)</span>
<span class="sql-keyword">FROM</span> 사원                                   <span class="sql-comment">-- FROM절: 사원 테이블을 기본으로 지정</span>
<span class="sql-keyword">JOIN</span> 부서                                   <span class="sql-comment">-- JOIN절: 부서 테이블과 조인을 수행</span>
<span class="sql-keyword">ON</span> 사원.부서번호 = 부서.부서번호              <span class="sql-comment">-- ON절: 조인 조건 - 부서번호가 같은 행들을 연결</span>
<span class="sql-keyword">GROUP BY</span> 부서.부서명;                        <span class="sql-comment">-- GROUP BY절: 부서명별로 그룹화하여 각 그룹의 평균을 계산</span></div>
                    </div>
                </div>

                <div class="query-section">
                    <div class="query-title">(d) '백영란'과 같은 부서에 근무하는 사원의 사원명과 부서명을 출력하시오.</div>
                    <div class="toggle-answer" onclick="toggleAnswer(this)">정답을 확인하려면 클릭하시오</div>
                    <div class="answer-container" style="display: none;">
                        <div class="query-text">방법 1: 셀프 조인 사용</div>
                        <div class="sql-code"><span class="sql-keyword">SELECT</span> s2.사원명, 부서.부서명                 <span class="sql-comment">-- SELECT절: 사원명과 부서명을 출력</span>
<span class="sql-keyword">FROM</span> 사원 s1                                <span class="sql-comment">-- FROM절: 사원 테이블을 s1 별칭으로 지정 (백영란을 찾기 위한 테이블)</span>
<span class="sql-keyword">JOIN</span> 사원 s2                                <span class="sql-comment">-- JOIN절: 같은 사원 테이블을 s2 별칭으로 다시 조인 (같은 부서 사원들을 찾기 위한 테이블)</span>
<span class="sql-keyword">ON</span> s1.부서번호 = s2.부서번호                  <span class="sql-comment">-- ON절: 조인 조건 - 같은 부서번호를 가진 사원들을 연결</span>
<span class="sql-keyword">JOIN</span> 부서                                   <span class="sql-comment">-- JOIN절: 부서 테이블과 조인하여 부서명을 가져옴</span>
<span class="sql-keyword">ON</span> s2.부서번호 = 부서.부서번호                <span class="sql-comment">-- ON절: s2의 부서번호와 부서 테이블의 부서번호가 같은 행들을 연결</span>
<span class="sql-keyword">WHERE</span> s1.사원명 = <span class="sql-string">'백영란'</span>;                   <span class="sql-comment">-- WHERE절: s1에서 백영란을 찾는 조건</span></div>
                        <div class="query-text" style="margin-top: 20px;">방법 2: 서브쿼리 사용</div>
                        <div class="sql-code">-- 방법 2: 서브쿼리 사용 (더 간단하고 직관적)
SELECT 사원.사원명, 부서.부서명                -- SELECT절: 사원명과 부서명을 출력
FROM 사원                                   -- FROM절: 사원 테이블을 기본으로 지정
JOIN 부서                                   -- JOIN절: 부서 테이블과 조인하여 부서명을 가져옴
ON 사원.부서번호 = 부서.부서번호              -- ON절: 부서번호가 같은 행들을 연결
WHERE 사원.부서번호 = (                      -- WHERE절: 조건 시작
&nbsp;&nbsp;&nbsp;&nbsp;SELECT 부서번호                         -- 서브쿼리: 백영란의 부서번호를 찾음
&nbsp;&nbsp;&nbsp;&nbsp;FROM 사원                               -- 사원 테이블에서
&nbsp;&nbsp;&nbsp;&nbsp;WHERE 사원명 = '백영란'                  -- 백영란의 부서번호를 가져옴
);</div>
                    </div>
                </div>

                <div class="query-section">
                    <div class="query-title">(e) 모든 사원의 근무년수를 1년 증가시킨 후에 사원 테이블을 출력하시오.</div>
                    <div class="toggle-answer" onclick="toggleAnswer(this)">정답을 확인하려면 클릭하시오</div>
                    <div class="answer-container" style="display: none;">
                        <div class="sql-code"><span class="sql-keyword">UPDATE</span> 사원                                 <span class="sql-comment">-- UPDATE절: 사원 테이블의 데이터를 수정</span>
<span class="sql-keyword">SET</span> 근무년수 = 근무년수 + 1;                 <span class="sql-comment">-- SET절: 근무년수 컬럼의 값을 현재 값에서 1을 더한 값으로 변경</span>

<span class="sql-comment">-- 수정된 사원 테이블 출력</span>
<span class="sql-keyword">SELECT</span> * <span class="sql-keyword">FROM</span> 사원;                         <span class="sql-comment">-- SELECT절: 사원 테이블의 모든 컬럼(*) 출력</span></div>
                    </div>
                </div>
            </div>
    </div>
    
    <script>
        function showTab(tabName) {
            // 모든 탭 콘텐츠 숨기기
            const tabContents = document.querySelectorAll('.tab-content');
            tabContents.forEach(content => {
                content.classList.remove('active');
            });
            
            // 모든 탭 버튼에서 active 클래스 제거
            const tabs = document.querySelectorAll('.tab');
            tabs.forEach(tab => {
                tab.classList.remove('active');
            });
            
            // 선택된 탭 콘텐츠 보이기
            document.getElementById(tabName).classList.add('active');
            
            // 클릭된 탭 버튼에 active 클래스 추가
            event.target.classList.add('active');
        }
        
        function toggleAnswer(element) {
            const answerContainer = element.nextElementSibling;
            if (answerContainer.style.display === "none") {
                answerContainer.style.display = "block";
                element.textContent = "정답 숨기기";
            } else {
                answerContainer.style.display = "none";
                element.textContent = "정답을 확인하려면 클릭하시오";
            }
        }

        // 페이지 로드 시 첫 번째 탭 활성화
        document.addEventListener('DOMContentLoaded', function() {
            document.getElementById('problem1').classList.add('active');
        });
    </script>
</body>
</html>
